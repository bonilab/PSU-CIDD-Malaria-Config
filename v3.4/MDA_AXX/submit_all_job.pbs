#!/bin/bash
#PBS -A mfb9_b_g_sc_default
#PBS -N submit_jobs
#PBS -l nodes=1:ppn=1
#PBS -l pmem=1gb
#PBS -l walltime=96:00:00

# Get started
cd $PBS_O_WORKDIR
sleep 10

TARGET=3900
SLEEP=300
USER_NAME=uut47

# Count the current jobs, pending or running
get_job_count(){
  # The grep is to remove the header, there may be a better way.
  qstat -u $USER_NAME | grep $USER_NAME | wc -l
}

input_files=(
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_0RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_1RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_2RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_3RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR1_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR2_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_AAB_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABA_OZFQ.yml"        
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_DHAPPQ.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM_imp.yml"  
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_KAFLUM.yml"      
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ_imp.yml"    
"ONELOC_40k_4RMDA_PFPR3_OPPUNIFORM_FLAL_ABB_OZFQ.yml"        
)

# Global job counter
COUNTER=$(get_job_count)

FROM=0
TO=109

for i in "${!input_files[@]}";do
        echo ${input_files[${i}]}
        for NUMBERS in `seq $FROM $TO`; do
		echo "$NUMBERS - ${input_files[${i}]}"
		
		# Wait until the number of job is under the limit, then submit.
		while [ $COUNTER -ge $TARGET ]; do
			sleep $SLEEP
			COUNTER=$(get_job_count)
		done
                qsub -v NUMBER_ARG=$NUMBERS,INPUT_FILE=${input_files[${i}]} job_template.pbs
		let "COUNTER++"
        done
        FROM=$((FROM + 1000))
        TO=$((TO + 1000))
done

